<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é›…å¯æ¯”è¿­ä»£æ³•(Jacobi Method)</title>
  <LINK href="./image/å¯¼èˆª.icon" rel="Shortcut Icon">
  <!-- å¼•å…¥æ ·å¼ -->
  <!--å¼•å…¥ element-ui çš„æ ·å¼ï¼Œ-->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <!-- å¿…é¡»å…ˆå¼•å…¥vueï¼Œ  åä½¿ç”¨element-ui -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <!-- å¼•å…¥element çš„ç»„ä»¶åº“-->
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>

</head>

<body>
  <div id="app" style="width: 80%; margin: 0 auto;">
    <el-row>
      <h1>é›…å¯æ¯”è¿­ä»£æ³•(Jacobi Method)</h1>
      <H2 style="COLOR: #2f4f4f">å…³äº</H2>
      <BLOCKQUOTE>
        <UL>
          <LI>è¯¥é¡µé¢ä¸ºæ¡‚æ—ç”µå­ç§‘æŠ€å¤§å­¦æ•°å­¦ä¸åº”ç”¨æ•°å­¦ä¸“ä¸šæœ¬ç§‘ç”Ÿè°­å‰ç¨‹çš„ä½œå“ğŸ˜‚
          </LI>
        </UL>
        <UL>
          <li class="non_point">
            ğŸ‘‰<a href="https://redhat123456.github.io/router_index/">ç‚¹æˆ‘æŸ¥çœ‹</a>ğŸ‘ˆäº†è§£æ›´å¤šå…³äºè°­å‰ç¨‹çš„å†…å®¹ğŸˆ
          </li>
        </UL>



        <UL>
          <LI>ä¸ºä»€ä¹ˆè¦å†™è¿™ä¸ªé¡µé¢ï¼Ÿæˆ–è€…ä¸ºä»€ä¹ˆä¸ç”¨å…¶ä»–è¯­è¨€å†™ï¼Ÿ
          </LI>
        </UL>
        <UL>
          <li class="non_point">
            æœ¬äººè‡ªå­¦äº†å‰ç«¯ä»¥æ¥å°±æ¯”è¾ƒå–œæ¬¢ç”¨webå‰ç«¯æ¥ä»£æ›¿å¤æ‚çš„ç¨‹åºå‘½ä»¤è¡Œï¼Œä¸ªäººè§‰å¾—é¡µé¢ç›¸å¯¹äºå‘½ä»¤è¡Œæ¥è¯´æ›´å…·è¡¨è¾¾èƒ½åŠ›ï¼Œè€Œä¸”æœ¬äººå¯¹JavaScriptæ¯”è¾ƒç†Ÿæ‚‰ï¼Œå°±ç”¨äº†JavaScriptæ¥å†™è¿™ä¸ªä»£ç ã€‚ğŸƒ
          </li>
        </UL>
        <UL>
          <li class="non_point">
            æ¬¢è¿ç”¨é‚®ç®±æ¥è”ç³»æœ¬äººğŸ“(æœ¬äººé‚®ç®±ï¼š1907065810@qq.com)ï¼Œè°¢è°¢å¤§å®¶çš„æ”¯æŒ~~ï¼ï¼âœ¨
          </li>
        </UL>
      </BLOCKQUOTE>
    </el-row>
    <el-row type="flex" id="row-bg">
      <h2>ç›¸å…³çŸ¥è¯†</h2>
    </el-row>
    <el-row type="flex" id="row-bg">
      <h3>Jacobiè¿­ä»£å…¬å¼è§£çº¿æ€§æ–¹ç¨‹</h3>
    </el-row>
    <el-row>
      é€šè¿‡çº¿æ€§æ–¹ç¨‹ç»„ğŸ‘‡
    </el-row>
    <el-row type="flex" id="row-bg">
      <el-image src="./image/1.png"></el-image>
    </el-row>
    <el-row>
      è‹¥ <el-image src="./image/3.png"></el-image> æ–¹ç¨‹ç»„å¯åŒè§£å˜å½¢ä¸º
    </el-row>
    <el-row>
      <el-image src="./image/4.png"></el-image>
    </el-row>
    <el-row>
      Jacobiè¿­ä»£æ³•çš„è®¡ç®—å…¬å¼ï¼š
    </el-row>
    <el-row>
      <el-image src="./image/5.png"></el-image>
    </el-row>
    <el-row>
      å³ <el-image src="./image/6.png"></el-image>
    </el-row>
    <el-row type="flex" id="row-bg">
      <h2>è®¾ç½®å˜é‡</h2>
    </el-row>

    <el-row type="flex" id="row-bg">
      <el-col :span="3">
        <div id="zhengwen">
          ç²¾ç¡®å€¼ï¼š
        </div>
      </el-col>
      <el-col :span="6">
        <el-input placeholder="è¯·è¾“å…¥ç²¾ç¡®å€¼" v-model="exact" clearable>
        </el-input>
      </el-col>
    </el-row>
    <el-row type="flex" id="row-bg" style="margin-top: 20px;">
      <el-col :span="6">
        <div id="zhengwen">
          è¯·è¾“å…¥æ–¹ç¨‹ç»„æœªçŸ¥æ•°çš„ä¸ªæ•°nï¼š
        </div>
      </el-col>
      <el-col :span="3">
        <el-input placeholder="è¯·è¾“å…¥n" v-model="n" clearable>
        </el-input>
      </el-col>
    </el-row>
    <el-row type="flex" id="row-bg" style="margin-top: 20px;">
      <el-col :span="3">
        <div id="zhengwen">
          çŸ©é˜µAï¼š
        </div>
      </el-col>
      <el-col :span="6">
        <el-input type="textarea" placeholder="ä¾‹ï¼š[1,1,1,2]" v-model="textarea">
        </el-input>
      </el-col>
    </el-row>
    <el-row type="flex" id="row-bg" style="margin-top: 20px;">
      <el-col :span="3">
        <div id="zhengwen">
          çŸ©é˜µbï¼š
        </div>
      </el-col>
      <el-col :span="6">
        <el-input type="textarea" placeholder="ä¾‹ï¼š[1,1,1,2]" v-model="b">
        </el-input>
      </el-col>
    </el-row>
    <el-row>
      <el-button @click="show" type="primary">
        è¿ç®—
      </el-button>

    </el-row>
    <el-row>
      <h2>è¿ç®—ç»“æœï¼š</h2>
    </el-row>

    <el-row>
      <div v-if="state == '0'"></div>
      <div v-else-if="state == '1'">
        <div title="tip">è¿ç®—ç»“æœå¾ˆå¿«å‡ºæ¥...</div>
        <div title="tip">è¯·è€å¿ƒç­‰å¾…...</div>
        <div title="tip">>>></div>
      </div>
      <div v-else-if="state == '2'">
        è¿ç®—æˆåŠŸï¼ï¼ï¼
        ä½ è¾“å…¥çš„AçŸ©é˜µä¸ºï¼š
        <div v-html="formatMatrix(List)" id="A">
        </div>

      </div>
      <div v-else>
        è¿­ä»£å¤±è´¥ï¼ï¼ˆå¯èƒ½æ˜¯å‡½æ•°ä¸æ”¶æ•›ï¼‰
      </div>
    </el-row>
  </div>

</body>

<script>
  new Vue({
    el: '#app',
    data: function () {
      return {
        textarea: [4, -1, 0, -1, 0, 0, 1, -4, 1, 0, 1, 0, 0, 1, -4, 0, 0, 1, 1, 0, 0, -4, 1, 0, 0, 1, 0, 1, -4, 1, 0, 0, 1, 0, 1, -4],
        b: [30, -20, -60, -40, -30, -70],
        state: '0',
        A1: '',
        exact: 0.00000001,
        n: 6,
        List: '',
        k: ''
      }
    },
    methods: {
      show() {
        this.state = '1';
        this.operation();
      },
      operation() {
        var n = this.n;
        var A = new Array();
        var A1 = new Array();
        A1 = this.textarea;
        var List = new Array();
        var B = new Array();
        B = this.b;
        var X = new Array();
        var Y = new Array();
        var D = new Array();
        var k = 0;
        var t = 0;
        for (let i = 0; i < n; i++) {
          A[i] = new Array();
          for (let j = 0; j < n; j++) {
            A[i][j] = A1[t]
            t++;
          }
        }
        for (var t = 0; t < n; t++) {
          X[t] = 0;
          Y[t] = 0;
          D[t] = 0;
        }
        do {
          X = Y.concat();
          for (var i = 0; i < n; i++) {
            let tem = 0.0;
            for (var j = 0; j < n; j++) {
              if (i !== j) { tem = tem + A[i][j] * X[j] }
              console.log(tem)
            }
            Y[i] = (B[i] - tem) / A[i][i];
          }
          k++;
          if (k > 100) {
            console.log('è¿­ä»£å¤±è´¥ï¼ï¼ˆå¯èƒ½æ˜¯å‡½æ•°ä¸æ”¶æ•›ï¼‰')
            this.state = 3;
            return;
          }
          for (var a = 0; a < n; a++) {

            D[a] = X[a] - Y[a]
          }
          List.push(Y.concat())
          console.log('D:' + D)
        } while (this.MaxfList(D) > 0.00001 || this.MaxfList(D) < -0.00001)
        console.log(k)
        console.log(List)
        this.state = 2;
        for (var i = 0; i < List.length; i++) {
        }
        this.List = List;
        this.A1 = A;
        this.k = k;
        this.func(List);
        return
      },
      MaxfList(x) {
        var max = x[0]
        var n = x.length
        for (var i = 0; i < n; i++)
          if (x[i] > max) max = x[i]
        return max;
      },
      formatMatrix(matrixArr) {
        return `
          ${this.A1.map(arr => arr.join(" ")).join("</br>")}
          </br>
          è¿­ä»£ç»“æœï¼š
          <pre>${matrixArr.map((arr, index) => `ç¬¬ ${index + 1} æ¬¡è¿­ä»£ï¼š\t` + arr.join('\t')).join('</br>')}</pre>
          è¿­ä»£æ¬¡æ•°ï¼š ${this.k}
        `
      }
    },

  })
</script>

<style type="text/css">
  .app {
    width: 80%;
    height: 100%;
  }

  .row-bg {
    margin: 0px 0px 22px;
  }

  .non_point {
    list-style: none;
  }
</style>

</html>